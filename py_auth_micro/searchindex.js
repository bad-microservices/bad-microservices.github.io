Search.setIndex({"docnames": ["CHANGELOG", "api_reference", "examples", "getting_started", "index"], "filenames": ["CHANGELOG.rst", "api_reference.rst", "examples.rst", "getting_started.rst", "index.rst"], "titles": ["Changelog", "API Reference", "Examples", "Getting started", "General"], "terms": {"remov": [0, 1], "loginhandl": [0, 4], "loginkerbero": 0, "becaus": 0, "": [0, 1], "need": [0, 1, 3], "document": 0, "switch": 0, "theme": 0, "pydata": 0, "ad": [0, 1, 3, 4], "except": [0, 4], "submodul": [0, 4], "code": 0, "absolut": 0, "import": [0, 1], "instead": 0, "rel": 0, "bugfix": 0, "userworkflow": [0, 1, 4], "change_us": [0, 1, 4], "now": 0, "onli": [0, 1, 3], "allow": [0, 1], "chang": [0, 1], "activ": [0, 1], "attribut": 0, "call": [0, 1], "user": [0, 1, 4], "i": [0, 1, 3, 4], "an": [0, 1, 3, 4], "admin": [0, 1], "get_us": [0, 1, 4], "includ": 0, "list": [0, 1], "group": [0, 1, 4], "request": [0, 1, 4], "himself": [0, 1], "return": [0, 1], "wrong": [0, 1], "data": [0, 1], "format": 0, "fix": 0, "typo": 0, "respons": 0, "messag": [0, 1], "when": 0, "delet": [0, 1], "group_memb": [0, 1, 4], "thi": [0, 1, 3, 4], "time": [0, 1], "real": 0, "had": 0, "bug": 0, "which": [0, 1, 4], "new": [0, 1], "featur": 0, "groupworkflow": [0, 1, 4], "all": [0, 1], "member": 0, "_perm_and_name_check": 0, "got": [0, 1], "without": 0, "kwarg": [0, 1], "again": [0, 1], "_create_us": 0, "take": 0, "kw": 0, "argument": [0, 1], "forgot": 0, "workflow": [0, 4], "function": [0, 1], "accept": 0, "arbitari": 0, "number": 0, "app": [0, 1], "config": [0, 4], "extend": 0, "default_vhost": [0, 1], "set": [0, 1], "get": [0, 1, 4], "us": [0, 1, 3, 4], "sessionworkflow": [0, 1, 4], "fit": 0, "my": 0, "idea": 0, "useful": 0, "ldap": [0, 1, 3, 4], "option": [0, 1, 3], "ssl": [0, 1], "context": [0, 1], "automat": [0, 1], "creat": [0, 1], "dbconfig": [0, 1, 4], "reciev": 0, "ca_fil": [0, 1], "paramet": [0, 1], "initi": 0, "version": 0, "hold": 1, "differ": 1, "class": 1, "packag": 1, "The": [1, 3, 4], "follow": [1, 3], "ar": [1, 4], "provid": [1, 3, 4], "ldapconfig": [1, 4], "configur": 1, "connect": 1, "db": 1, "appconfig": [1, 4], "gener": 1, "regard": 1, "py_auth_micro": [1, 3, 4], "address": 1, "127": 1, "0": [1, 4], "1": [1, 4], "389": 1, "base_dn": 1, "ou": 1, "dc": 1, "local": [1, 4], "allowed_to_login": 1, "groups_prefix": 1, "api_perm": 1, "domain": 1, "none": 1, "store": [1, 4], "our": 1, "relat": 1, "variabl": 1, "str": 1, "server": [1, 3], "base": 1, "dn": 1, "login": [1, 4], "itself": 1, "default": 1, "prefix": 1, "should": 1, "log": [1, 4], "3306": 1, "path": 1, "ca": 1, "file": 1, "databas": 1, "password": 1, "host": 1, "port": 1, "A": 1, "ha": 1, "tortoiseorm": 1, "compliant": 1, "string": 1, "dictionari": 1, "name": 1, "usernam": 1, "ip": 1, "hostnam": 1, "int": 1, "If": 1, "specifi": 1, "properti": 1, "sslcontext": [1, 4], "els": 1, "connection_str": [1, 4], "connectionstr": 1, "tortois": [1, 3], "orm": [1, 3], "valu": 1, "type": 1, "to_dict": [1, 4], "connection_nam": 1, "dict": 1, "pass": 1, "result": 1, "part": 1, "you": [1, 3], "least": 1, "section": 1, "id_token_valid_tim": 1, "1440": 1, "access_token_valid_tim": 1, "5": [1, 4], "allow_registr": 1, "fals": 1, "auto_activate_account": 1, "true": 1, "admin_group": 1, "prod": 1, "group_regex": 1, "za": 1, "z0": 1, "9_": 1, "50": 1, "username_regex": 1, "z": 1, "_0": 1, "9": [1, 4], "4": [1, 4], "30": 1, "password_regex": 1, "email_regex": 1, "_": 1, "61": 1, "inform": 1, "about": 1, "state": 1, "how": 1, "long": 1, "id": [1, 4], "token": [1, 4], "stai": 1, "valid": 1, "minut": 1, "24": 1, "hour": 1, "access": [1, 4], "bool": 1, "can": [1, 3, 4], "regist": 1, "themself": 1, "account": 1, "creation": 1, "administr": 1, "vhost": 1, "ist": 1, "given": [1, 4], "regex": 1, "check": 1, "r": 1, "email": [1, 4], "kinda": 1, "do": 1, "basic": 1, "some": 1, "modul": [1, 3], "other": [1, 4], "from": [1, 4], "librari": [1, 3, 4], "authsourc": [1, 4], "enum": 1, "authentif": 1, "sourc": [1, 4], "ldaphelp": [1, 4], "simplifi": 1, "interact": 1, "describ": 1, "possibl": 1, "support": 1, "authent": [1, 4], "ident": [1, 3, 4], "kerbero": [1, 4], "via": [1, 4], "ldap_cfg": 1, "help": 1, "while": 1, "instanti": 1, "bind": 1, "against": 1, "we": 1, "want": [1, 3], "extract": 1, "after": [1, 4], "he": [1, 4], "sucessfulli": 1, "get_group": [1, 4], "relev": 1, "usergroup": 1, "correct": 1, "sign": [1, 4], "contain": 1, "custom": 1, "framework": 1, "alreadyexist": [1, 4], "indic": 1, "object": 1, "alreadi": 1, "exist": 1, "t": 1, "current": 1, "work": 1, "loginloc": [1, 4], "loginldap": [1, 4], "These": 1, "choosen": 1, "auth_typ": 1, "field": 1, "everi": 1, "entri": 1, "async": 1, "ldap_config": 1, "credenti": 1, "ldapauth": 1, "rais": 1, "valueerror": 1, "mathc": 1, "loginbaseclass": [1, 4], "abstract": 1, "baseclass": 1, "implement": [1, 4], "keyword": 1, "instanc": 1, "self": 1, "_sync_group": 1, "sync": 1, "membership": 1, "successful": 1, "handler": 1, "_type_": 1, "_description_": 1, "hash": 1, "compar": 1, "bcrypt": [1, 3], "definit": 1, "sinc": 1, "thei": 1, "databs": 1, "entiti": 1, "around": 1, "issu": 1, "suppli": 1, "jwt": [1, 4], "header": 1, "have": 1, "one": 1, "per": 1, "bound": 1, "broker": 1, "token_id": 1, "uniqu": 1, "kid": 1, "claim": 1, "verif": 1, "valid_until": 1, "datetim": 1, "well": 1, "so": 1, "exp": 1, "out": [1, 4], "make": 1, "sure": 1, "did": 1, "forg": 1, "trust": 1, "me": 1, "bro": 1, "last_us": 1, "timestamp": 1, "last": 1, "sign_method": 1, "signmethod": 1, "method": 1, "mehtod": 1, "jwtvalid": 1, "identifi": 1, "rabbitmq": 1, "For": 1, "exampl": [1, 4], "product": 1, "test": 1, "get_id_jwt": [1, 4], "jwt_encod": 1, "app_cfg": 1, "jwtencod": 1, "misc": 1, "durat": 1, "static": 1, "verify_id_jwt": [1, 4], "jwt_valid": 1, "id_jwt": 1, "look": 1, "up": 1, "issuer": 1, "ourself": 1, "verifi": 1, "parti": 1, "its": 1, "doe": 1, "match": 1, "create_access_jwt": [1, 4], "It": 1, "expect": 1, "beforehand": 1, "verify_token": 1, "encod": 1, "repres": 1, "password_hash": 1, "passwordhash": 1, "hi": [1, 4], "create_id_token": [1, 4], "app_config": 1, "sigingmethod": 1, "lifetim": 1, "revoke_id_token": [1, 4], "revok": 1, "permiss": [1, 4], "most": 1, "common": 1, "In": 1, "registr": 1, "groupworkfflow": 1, "easili": 1, "pars": 1, "json": 1, "helper": 1, "miscellan": 1, "applic": 1, "get_al": [1, 4], "access_token": 1, "permissionerror": 1, "invalid": 1, "known": 1, "register_us": [1, 4], "password_confirm": 1, "confirm": 1, "resp_cod": 1, "200": 1, "oper": 1, "wa": 1, "userinform": 1, "more": 1, "even": 1, "info": 1, "admin_create_us": [1, 4], "let": 1, "success": 1, "delete_us": [1, 4], "Not": 1, "author": [1, 4], "session": 1, "resp_data": 1, "id_token": 1, "logout": [1, 4], "therebi": 1, "500": 1, "get_access_token": [1, 4], "kei": [1, 4], "groupnam": 1, "create_group": [1, 4], "action": 1, "delete_group": [1, 4], "add_user_to_group": [1, 4], "add": 1, "remove_user_from_group": [1, 4], "python3": 3, "6": [3, 4], "python": 3, "jwt_helper": 3, "asyncmi": 3, "depend": 3, "upstream": [3, 4], "avail": 3, "pip": 3, "just": 3, "run": 3, "command": 3, "m": 3, "py": 3, "auth": 3, "micro": [3, 4], "clone": 3, "repositori": 3, "git": 3, "http": 3, "github": 3, "com": 3, "bad": 3, "microservic": 3, "navig": 3, "folder": 3, "cd": 3, "here": 3, "flow": 3, "could": 3, "small": 4, "also": 4, "locali": 4, "done": 4, "successfulli": 4, "With": 4, "send": 4, "servic": 4, "gain": 4, "accord": 4, "either": 4, "symetr": 4, "hmac": 4, "secret": 4, "rsa": 4, "start": 4, "requir": 4, "instal": 4, "pypi": 4, "api": 4, "refer": 4, "core": 4, "model": 4, "changelog": 4, "7": 4, "3": 4, "2": 4, "8": 4, "index": 4}, "objects": {"py_auth_micro": [[1, 0, 0, "-", "Config"], [1, 0, 0, "-", "Core"], [1, 0, 0, "-", "Exceptions"], [1, 0, 0, "-", "LoginHandler"], [1, 0, 0, "-", "Models"], [1, 0, 0, "-", "WorkFlows"]], "py_auth_micro.Config": [[1, 1, 1, "", "AppConfig"], [1, 1, 1, "", "DBConfig"], [1, 1, 1, "", "LDAPConfig"]], "py_auth_micro.Config.DBConfig": [[1, 2, 1, "", "connection_string"], [1, 2, 1, "", "sslcontext"], [1, 3, 1, "", "to_dict"]], "py_auth_micro.Core": [[1, 1, 1, "", "AuthSource"], [1, 1, 1, "", "LDAPHelper"]], "py_auth_micro.Core.AuthSource": [[1, 4, 1, "", "KERBEROS"], [1, 4, 1, "", "LDAP"], [1, 4, 1, "", "LOCAL"]], "py_auth_micro.Core.LDAPHelper": [[1, 2, 1, "", "email"], [1, 3, 1, "", "get_groups"], [1, 3, 1, "", "login"]], "py_auth_micro.Exceptions": [[1, 5, 1, "", "AlreadyExists"]], "py_auth_micro.LoginHandler": [[1, 1, 1, "", "LoginBaseClass"], [1, 1, 1, "", "LoginLDAP"], [1, 1, 1, "", "LoginLocal"], [1, 6, 1, "", "login"]], "py_auth_micro.LoginHandler.LoginLDAP": [[1, 3, 1, "", "login"]], "py_auth_micro.LoginHandler.LoginLocal": [[1, 3, 1, "", "login"]], "py_auth_micro.Models": [[1, 1, 1, "", "Group"], [1, 1, 1, "", "Token"], [1, 1, 1, "", "User"]], "py_auth_micro.Models.Token": [[1, 3, 1, "", "create_access_jwt"], [1, 3, 1, "", "get_id_jwt"], [1, 3, 1, "", "verify_id_jwt"]], "py_auth_micro.Models.User": [[1, 3, 1, "", "create_id_token"], [1, 3, 1, "", "revoke_id_token"]], "py_auth_micro.WorkFlows": [[1, 1, 1, "", "GroupWorkflow"], [1, 1, 1, "", "SessionWorkflow"], [1, 1, 1, "", "UserWorkflow"]], "py_auth_micro.WorkFlows.GroupWorkflow": [[1, 3, 1, "", "add_user_to_group"], [1, 3, 1, "", "create_group"], [1, 3, 1, "", "delete_group"], [1, 3, 1, "", "get_groups"], [1, 3, 1, "", "group_members"], [1, 3, 1, "", "remove_user_from_group"]], "py_auth_micro.WorkFlows.SessionWorkflow": [[1, 3, 1, "", "get_access_token"], [1, 3, 1, "", "login"], [1, 3, 1, "", "logout"]], "py_auth_micro.WorkFlows.UserWorkflow": [[1, 3, 1, "", "admin_create_user"], [1, 3, 1, "", "change_user"], [1, 3, 1, "", "delete_user"], [1, 3, 1, "", "get_all"], [1, 3, 1, "", "get_user"], [1, 3, 1, "", "register_user"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:property", "3": "py:method", "4": "py:attribute", "5": "py:exception", "6": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "property", "Python property"], "3": ["py", "method", "Python method"], "4": ["py", "attribute", "Python attribute"], "5": ["py", "exception", "Python exception"], "6": ["py", "function", "Python function"]}, "titleterms": {"changelog": 0, "0": 0, "1": 0, "7": 0, "6": 0, "5": 0, "4": 0, "3": 0, "2": 0, "9": 0, "8": 0, "api": 1, "refer": 1, "config": 1, "submodul": 1, "core": 1, "except": 1, "loginhandl": 1, "model": 1, "workflow": 1, "exampl": [2, 3], "get": 3, "start": 3, "requir": 3, "instal": 3, "via": 3, "pypi": 3, "from": 3, "sourc": 3, "implement": 3, "gener": 4, "content": 4}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx": 58}, "alltitles": {"Changelog": [[0, "changelog"]], "0.1.7": [[0, "id1"]], "0.1.6": [[0, "id2"]], "0.1.5": [[0, "id3"]], "0.1.4": [[0, "id4"]], "0.1.3": [[0, "id5"]], "0.1.2": [[0, "id6"]], "0.1.1": [[0, "id7"]], "0.1.0": [[0, "id8"]], "0.0.9": [[0, "id9"]], "0.0.8": [[0, "id10"]], "0.0.7": [[0, "id11"]], "0.0.6": [[0, "id12"]], "0.0.3": [[0, "id13"]], "0.0.2": [[0, "id14"]], "API Reference": [[1, "api-reference"]], "Config Submodule": [[1, "module-py_auth_micro.Config"]], "Core Submodule": [[1, "module-py_auth_micro.Core"]], "Exceptions Submodule": [[1, "module-py_auth_micro.Exceptions"]], "LoginHandler Submodule": [[1, "module-py_auth_micro.LoginHandler"]], "Models Submodule": [[1, "module-py_auth_micro.Models"]], "WorkFlows Submodule": [[1, "module-py_auth_micro.WorkFlows"]], "Examples": [[2, "examples"]], "Getting started": [[3, "getting-started"]], "Requirements": [[3, "requirements"]], "Installation": [[3, "installation"]], "via PyPi": [[3, "via-pypi"]], "From Source": [[3, "from-source"]], "Example implementation": [[3, "example-implementation"]], "General": [[4, "general"]], "Content": [[4, "content"]]}, "indexentries": {"alreadyexists": [[1, "py_auth_micro.Exceptions.AlreadyExists"]], "appconfig (class in py_auth_micro.config)": [[1, "py_auth_micro.Config.AppConfig"]], "authsource (class in py_auth_micro.core)": [[1, "py_auth_micro.Core.AuthSource"]], "dbconfig (class in py_auth_micro.config)": [[1, "py_auth_micro.Config.DBConfig"]], "group (class in py_auth_micro.models)": [[1, "py_auth_micro.Models.Group"]], "groupworkflow (class in py_auth_micro.workflows)": [[1, "py_auth_micro.WorkFlows.GroupWorkflow"]], "kerberos (py_auth_micro.core.authsource attribute)": [[1, "py_auth_micro.Core.AuthSource.KERBEROS"]], "ldap (py_auth_micro.core.authsource attribute)": [[1, "py_auth_micro.Core.AuthSource.LDAP"]], "ldapconfig (class in py_auth_micro.config)": [[1, "py_auth_micro.Config.LDAPConfig"]], "ldaphelper (class in py_auth_micro.core)": [[1, "py_auth_micro.Core.LDAPHelper"]], "local (py_auth_micro.core.authsource attribute)": [[1, "py_auth_micro.Core.AuthSource.LOCAL"]], "loginbaseclass (class in py_auth_micro.loginhandler)": [[1, "py_auth_micro.LoginHandler.LoginBaseClass"]], "loginldap (class in py_auth_micro.loginhandler)": [[1, "py_auth_micro.LoginHandler.LoginLDAP"]], "loginlocal (class in py_auth_micro.loginhandler)": [[1, "py_auth_micro.LoginHandler.LoginLocal"]], "sessionworkflow (class in py_auth_micro.workflows)": [[1, "py_auth_micro.WorkFlows.SessionWorkflow"]], "token (class in py_auth_micro.models)": [[1, "py_auth_micro.Models.Token"]], "user (class in py_auth_micro.models)": [[1, "py_auth_micro.Models.User"]], "userworkflow (class in py_auth_micro.workflows)": [[1, "py_auth_micro.WorkFlows.UserWorkflow"]], "add_user_to_group() (py_auth_micro.workflows.groupworkflow method)": [[1, "py_auth_micro.WorkFlows.GroupWorkflow.add_user_to_group"]], "admin_create_user() (py_auth_micro.workflows.userworkflow method)": [[1, "py_auth_micro.WorkFlows.UserWorkflow.admin_create_user"]], "change_user() (py_auth_micro.workflows.userworkflow method)": [[1, "py_auth_micro.WorkFlows.UserWorkflow.change_user"]], "connection_string (py_auth_micro.config.dbconfig property)": [[1, "py_auth_micro.Config.DBConfig.connection_string"]], "create_access_jwt() (py_auth_micro.models.token method)": [[1, "py_auth_micro.Models.Token.create_access_jwt"]], "create_group() (py_auth_micro.workflows.groupworkflow method)": [[1, "py_auth_micro.WorkFlows.GroupWorkflow.create_group"]], "create_id_token() (py_auth_micro.models.user method)": [[1, "py_auth_micro.Models.User.create_id_token"]], "delete_group() (py_auth_micro.workflows.groupworkflow method)": [[1, "py_auth_micro.WorkFlows.GroupWorkflow.delete_group"]], "delete_user() (py_auth_micro.workflows.userworkflow method)": [[1, "py_auth_micro.WorkFlows.UserWorkflow.delete_user"]], "email (py_auth_micro.core.ldaphelper property)": [[1, "py_auth_micro.Core.LDAPHelper.email"]], "get_access_token() (py_auth_micro.workflows.sessionworkflow method)": [[1, "py_auth_micro.WorkFlows.SessionWorkflow.get_access_token"]], "get_all() (py_auth_micro.workflows.userworkflow method)": [[1, "py_auth_micro.WorkFlows.UserWorkflow.get_all"]], "get_groups() (py_auth_micro.core.ldaphelper method)": [[1, "py_auth_micro.Core.LDAPHelper.get_groups"]], "get_groups() (py_auth_micro.workflows.groupworkflow method)": [[1, "py_auth_micro.WorkFlows.GroupWorkflow.get_groups"]], "get_id_jwt() (py_auth_micro.models.token method)": [[1, "py_auth_micro.Models.Token.get_id_jwt"]], "get_user() (py_auth_micro.workflows.userworkflow method)": [[1, "py_auth_micro.WorkFlows.UserWorkflow.get_user"]], "group_members() (py_auth_micro.workflows.groupworkflow method)": [[1, "py_auth_micro.WorkFlows.GroupWorkflow.group_members"]], "login() (in module py_auth_micro.loginhandler)": [[1, "py_auth_micro.LoginHandler.login"]], "login() (py_auth_micro.core.ldaphelper method)": [[1, "py_auth_micro.Core.LDAPHelper.login"]], "login() (py_auth_micro.loginhandler.loginldap method)": [[1, "py_auth_micro.LoginHandler.LoginLDAP.login"]], "login() (py_auth_micro.loginhandler.loginlocal method)": [[1, "py_auth_micro.LoginHandler.LoginLocal.login"]], "login() (py_auth_micro.workflows.sessionworkflow method)": [[1, "py_auth_micro.WorkFlows.SessionWorkflow.login"]], "logout() (py_auth_micro.workflows.sessionworkflow method)": [[1, "py_auth_micro.WorkFlows.SessionWorkflow.logout"]], "module": [[1, "module-py_auth_micro.Config"], [1, "module-py_auth_micro.Core"], [1, "module-py_auth_micro.Exceptions"], [1, "module-py_auth_micro.LoginHandler"], [1, "module-py_auth_micro.Models"], [1, "module-py_auth_micro.WorkFlows"]], "py_auth_micro.config": [[1, "module-py_auth_micro.Config"]], "py_auth_micro.core": [[1, "module-py_auth_micro.Core"]], "py_auth_micro.exceptions": [[1, "module-py_auth_micro.Exceptions"]], "py_auth_micro.loginhandler": [[1, "module-py_auth_micro.LoginHandler"]], "py_auth_micro.models": [[1, "module-py_auth_micro.Models"]], "py_auth_micro.workflows": [[1, "module-py_auth_micro.WorkFlows"]], "register_user() (py_auth_micro.workflows.userworkflow method)": [[1, "py_auth_micro.WorkFlows.UserWorkflow.register_user"]], "remove_user_from_group() (py_auth_micro.workflows.groupworkflow method)": [[1, "py_auth_micro.WorkFlows.GroupWorkflow.remove_user_from_group"]], "revoke_id_token() (py_auth_micro.models.user method)": [[1, "py_auth_micro.Models.User.revoke_id_token"]], "sslcontext (py_auth_micro.config.dbconfig property)": [[1, "py_auth_micro.Config.DBConfig.sslcontext"]], "to_dict() (py_auth_micro.config.dbconfig method)": [[1, "py_auth_micro.Config.DBConfig.to_dict"]], "verify_id_jwt() (py_auth_micro.models.token static method)": [[1, "py_auth_micro.Models.Token.verify_id_jwt"]]}})